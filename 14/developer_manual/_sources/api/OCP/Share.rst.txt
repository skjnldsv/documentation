.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


Share
=====


.. php:namespace:: OCP

.. php:class:: Share


	.. rst-class:: phpdoc-description
	
		| This class provides the ability for apps to share their content between users\.
		
		| Apps must create a backend class that implements OCP\\Share\_Backend and register it with this class\.
		| 
		| It provides the following hooks:
		|  \- post\_shared
		
	
	:Source:
		`lib/public/Share.php#51 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L51>`_
	
	:Parent:
		:php:class:`OC\\Share\\Constants`
	

Methods
-------

.. rst-class:: public static deprecated

	.. php:method:: public static getItemSharedWithUser( $itemType, $itemSource, $user, $owner=null)
	
		.. rst-class:: phpdoc-description
		
			| Get the item of item type shared with a given user by source
			
		
		:Source:
			`lib/public/Share.php#63 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L63>`_
		
		
		:Parameters:
			* **$itemType** (string)  
			* **$itemSource** (string)  
			* **$user** (string)  User to whom the item was shared
			* **$owner** (string)  Owner of the share

		
		:Returns: array Return list of items with file\_target, permissions and expiration
		:Since: 6.0.0 \- parameter $owner was added in 8\.0\.0
		:Deprecated: 17.0.0 
	
	

.. rst-class:: public static deprecated

	.. php:method:: public static getItemSharedWithBySource( $itemType, $itemSource, $format=self::FORMAT\_NONE, $parameters=null, $includeCollections=false)
	
		.. rst-class:: phpdoc-description
		
			| Get the item of item type shared with the current user by source
			
		
		:Source:
			`lib/public/Share.php#78 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L78>`_
		
		
		:Parameters:
			* **$itemType** (string)  
			* **$itemSource** (string)  
			* **$format** (int)  (optional) Format type must be defined by the backend
			* **$parameters** (mixed)  
			* **$includeCollections** (bool)  

		
		:Returns: array 
		:Since: 5.0.0 
		:Deprecated: 17.0.0 
	
	

.. rst-class:: public static deprecated

	.. php:method:: public static getShareByToken( $token, $checkPasswordProtection=true)
	
		.. rst-class:: phpdoc-description
		
			| Based on the given token the share information will be returned \- password protected shares will be verified
			
		
		:Source:
			`lib/public/Share.php#91 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L91>`_
		
		
		:Parameters:
			* **$token** (string)  
			* **$checkPasswordProtection** (bool)  

		
		:Returns: array | bool false will be returned in case the token is unknown or unauthorized
		:Since: 5.0.0 \- parameter $checkPasswordProtection was added in 7\.0\.0
		:Deprecated: 17.0.0 
	
	

.. rst-class:: public static deprecated

	.. php:method:: public static getItemsShared( $itemType, $format=self::FORMAT\_NONE, $parameters=null, $limit=\-1, $includeCollections=false)
	
		.. rst-class:: phpdoc-description
		
			| Get the shared items of item type owned by the current user
			
		
		:Source:
			`lib/public/Share.php#107 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L107>`_
		
		
		:Parameters:
			* **$itemType** (string)  
			* **$format** (int)  (optional) Format type must be defined by the backend
			* **$parameters** (mixed)  
			* **$limit** (int)  Number of items to return (optional) Returns all by default
			* **$includeCollections** (bool)  

		
		:Returns: mixed Return depends on format
		:Since: 5.0.0 
		:Deprecated: 17.0.0 
	
	

.. rst-class:: public static deprecated

	.. php:method:: public static getItemShared( $itemType, $itemSource, $format=self::FORMAT\_NONE, $parameters=null, $includeCollections=false)
	
		.. rst-class:: phpdoc-description
		
			| Get the shared item of item type owned by the current user
			
		
		:Source:
			`lib/public/Share.php#127 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L127>`_
		
		
		:Parameters:
			* **$itemType** (string)  
			* **$itemSource** (string)  
			* **$format** (int)  (optional) Format type must be defined by the backend
			* **$parameters** (mixed)  
			* **$includeCollections** (bool)  

		
		:Returns: mixed Return depends on format
		:Since: 5.0.0 
		:Deprecated: 17.0.0 Refactoring notes:
			\* defacto $parameters and $format is always the default and therefore is removed in the subsequent call
		
	
	

.. rst-class:: public static deprecated

	.. php:method:: public static setSendMailStatus( $itemType, $itemSource, $shareType, $recipient, $status)
	
		.. rst-class:: phpdoc-description
		
			| sent status if users got informed by mail about share
			
		
		:Source:
			`lib/public/Share.php#142 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share.php#L142>`_
		
		
		:Parameters:
			* **$itemType** (string)  
			* **$itemSource** (string)  
			* **$shareType** (int)  SHARE_TYPE_USER, SHARE_TYPE_GROUP, or SHARE_TYPE_LINK
			* **$recipient** (string)  with whom was the item shared
			* **$status** (bool)  

		
		:Since: 6.0.0 \- parameter $originIsSource was added in 8\.0\.0
		:Deprecated: 17.0.0 
	
	

