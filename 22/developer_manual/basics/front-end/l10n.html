<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Translation &mdash; Nextcloud latest Developer Manual latest documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Theming support" href="theming.html" />
    <link rel="prev" title="CSS" href="css.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../prologue/index.html">Prologue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Basic concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../request_lifecycle.html">Request lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dependency_injection.html">Dependency injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../middlewares.html">Middlewares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../events.html">Events</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Front-end</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="js.html">JavaScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="css.html">CSS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Translation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#make-text-translatable">Make text translatable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-translations">Adding translations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theming.html">Theming support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../backgroundjobs.html">Background jobs (Cron)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage and database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../app_development/index.html">App development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core/index.html">Core development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../digging_deeper/index.html">Digging deeper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_publishing_maintenance/index.html">App publishing and maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/index.html">Design guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client_apis/index.html">Clients and Client APIs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Nextcloud latest Developer Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Basic concepts</a></li>
          <li class="breadcrumb-item"><a href="index.html">Front-end</a></li>
      <li class="breadcrumb-item active">Translation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nextcloud/documentation/edit/master/developer_manual/basics/front-end/l10n.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="translation">
<h1>Translation<a class="headerlink" href="#translation" title="Permalink to this headline"></a></h1>
<p>Nextcloud provides mechanisms for internationalization (make an application translatable) and localization (add translations for specific languages). This section provides detailed instructions for both aspects.</p>
<section id="make-text-translatable">
<h2>Make text translatable<a class="headerlink" href="#make-text-translatable" title="Permalink to this headline"></a></h2>
<p>In order to make your app translatable (internationalization), you should use Nextcloud’s methods for translating strings. They are available for both the server-side (PHP, Templates) as well as for the client-side (JavaScript).</p>
<section id="php">
<h3>PHP<a class="headerlink" href="#php" title="Permalink to this headline"></a></h3>
<p>If localized strings are used in the backend code, simply inject the``OCPIL10N`` class into your service via type hinting it in the constructor. You will automatically get the language object containing the translations of your app:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">OCA\MyApp\Service</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">\OCP\IL10N</span><span class="p">;</span>


<span class="k">class</span> <span class="nc">AuthorService</span> <span class="p">{</span>

    <span class="sd">/** @var IL10N */</span>
    <span class="k">private</span> <span class="nv">$l</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">IL10N</span> <span class="nv">$l</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span> <span class="o">=</span> <span class="nv">$l</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">…</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Strings can then be translated in the following way:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nx">…</span>

<span class="k">class</span> <span class="nc">AuthorService</span> <span class="p">{</span>

    <span class="nx">…</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getLanguageCode</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span><span class="o">-&gt;</span><span class="na">getLanguageCode</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nx">sayHello</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Simple string</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAuthorName</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// String using a parameter</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Getting author %1$s&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nv">$name</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAuthors</span><span class="p">(</span><span class="nv">$count</span><span class="p">,</span> <span class="nv">$city</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Translation with plural</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span><span class="o">-&gt;</span><span class="na">n</span><span class="p">(</span>
            <span class="s1">&#39;%n author is currently in the city %1$s&#39;</span><span class="p">,</span>  <span class="c1">// singular string</span>
            <span class="s1">&#39;%n authors are currently in the city %1$s&#39;</span><span class="p">,</span>  <span class="c1">// plural string</span>
            <span class="nv">$count</span><span class="p">,</span> <span class="c1">// number to decide which plural to use</span>
            <span class="p">[</span><span class="nv">$city</span><span class="p">]</span> <span class="c1">// further parameters are possible</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="correct-plurals">
<h4>Correct plurals<a class="headerlink" href="#correct-plurals" title="Permalink to this headline"></a></h4>
<p>If you use a plural, you <strong>must</strong> also use the <code class="docutils literal notranslate"><span class="pre">%n</span></code> placeholder. The placeholder defines the plural and the word without the number preceding is wrong. If you don’t know/have a number for your translation, e.g. because you don’t know how many items are going to be selected, just use an undefined plural. They exist in every language and have one form. They do not follow the normal plural pattern.</p>
<p>Example:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">// BAD: Plural without count</span>
<span class="x">$title = $l-&gt;n(&#39;Import calendar&#39;, &#39;Import calendars&#39;, $selectionLength)</span>
<span class="x">// BETTER: Plural has count, but disrupting to read and unnecessary information</span>
<span class="x">$title = $l-&gt;n(&#39;Import %n calendar&#39;, &#39;Import %n calendars&#39;, $selectionLength)</span>
<span class="x">// BEST: Simple string with undefined plural</span>
<span class="x">$title = $l-&gt;t(&#39;Import calendars&#39;)</span>
</pre></div>
</div>
</section>
</section>
<section id="templates">
<h3>Templates<a class="headerlink" href="#templates" title="Permalink to this headline"></a></h3>
<p>In every template the global variable <strong>$l</strong> can be used to translate the strings using its methods <strong>t()</strong> and <strong>n()</strong>:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;div&gt;</span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Showing %$1s files&#39;</span><span class="p">,</span> <span class="nv">$_</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]));</span> <span class="cp">?&gt;</span><span class="x">&lt;/div&gt;</span>

<span class="x">&lt;button&gt;</span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Hide&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x">&lt;/button&gt;</span>
</pre></div>
</div>
<p>For the right date format use <code class="docutils literal notranslate"><span class="pre">&lt;?php</span> <span class="pre">p($l-&gt;l('date',</span> <span class="pre">time()));?&gt;</span></code>.</p>
</section>
<section id="javascript">
<h3>JavaScript<a class="headerlink" href="#javascript" title="Permalink to this headline"></a></h3>
<p>There are global functions <strong>t()</strong> and <strong>n()</strong> available for translating strings in javascript code. They differ a bit in terms of usage compared to php:</p>
<ul class="simple">
<li><p>First argument is the appId e.g. <code class="docutils literal notranslate"><span class="pre">'myapp'</span></code></p></li>
<li><p>Placeholders (apart from the count in plurals) use single-mustache brackets with meaning-full descriptors.</p></li>
<li><p>The parameter list is an object with the descriptors as key.</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">t</span><span class="p">(</span><span class="s1">&#39;myapp&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hello World!&#39;</span><span class="p">);</span>
<span class="nx">t</span><span class="p">(</span><span class="s1">&#39;myapp&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{name} is available. Get {linkstart}more information{linkend}&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Nextcloud 16&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">linkstart</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&lt;a href=&quot;...&quot;&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">linkend</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">});</span>
<span class="nx">n</span><span class="p">(</span><span class="s1">&#39;myapp&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Import %n calendar into {collection}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Import %n calendars into {collection}&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">selectionLength</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Nextcloud&#39;</span><span class="p">});</span>
</pre></div>
</div>
</section>
<section id="important-notes">
<h3>Important notes<a class="headerlink" href="#important-notes" title="Permalink to this headline"></a></h3>
<p>Please also look through the following steps to improve your strings and make them better translatable by others</p>
<section id="improving-your-translations">
<h4>Improving your translations<a class="headerlink" href="#improving-your-translations" title="Permalink to this headline"></a></h4>
<p>You shall <strong>never split</strong> sentences and <strong>never concatenate</strong> two translations (e.g. “Enable” and “dark mode” can not be combined to “Enable dark mode”, because languages might have to use different cases)! Translators lose the context and they have no chance to possibly re-arrange words/parts as needed.</p>
<p>Bad example:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Select file from&#39;</span><span class="p">))</span> <span class="o">.</span> <span class="s1">&#39; &#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&lt;a href=&#39;#&#39; id=&quot;browselink&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;local filesystem&#39;</span><span class="p">));</span><span class="cp">?&gt;</span><span class="x">&lt;/a&gt;</span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39; or &#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x">&lt;a href=&#39;#&#39; id=&quot;cloudlink&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;cloud&#39;</span><span class="p">));</span><span class="cp">?&gt;</span><span class="x">&lt;/a&gt;</span>
</pre></div>
</div>
<p>Translators will translate:</p>
<ul class="simple">
<li><p>Select file from</p></li>
<li><p>local filesystem</p></li>
<li><p>‘ or ‘</p></li>
<li><p>cloud</p></li>
</ul>
<p>Translating these individual strings results in  <code class="docutils literal notranslate"><span class="pre">local</span> <span class="pre">filesystem</span></code> and <code class="docutils literal notranslate"><span class="pre">cloud</span></code> losing case. The two white spaces surrounding <code class="docutils literal notranslate"><span class="pre">or</span></code> will get lost while translating as well. For languages that have a different grammatical order it prevents the translators from reordering the sentence components.</p>
<p>So the following code is a bit better, but suffers from another issue:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Select file from &lt;a href=&quot;#&quot; id=&quot;browselink&quot;&gt;local filesystem&lt;/a&gt; or &lt;a href=&quot;#&quot; id=&quot;cloudlink&quot;&gt;cloud&lt;/a&gt;&#39;</span><span class="p">));</span><span class="cp">?&gt;</span>
</pre></div>
</div>
<p>In this case the translators can re-arrange as they like, but have to deal with your markup and can mess it up easily. It is better to <strong>keep the markup out</strong> of your code, so the following translation is even better:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Select file from %slocal filesystem%s or %scloud%s&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&lt;a href=&quot;#&quot; id=&quot;browselink&quot;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;a href=&quot;#&quot; id=&quot;cloudlink&quot;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">]));</span><span class="cp">?&gt;</span>
</pre></div>
</div>
<p>But there is one last problem with this. In case the language has to turn things around, your code will still insert the parameters in the given order and they can not re-order them. To prevent this last hurdle simply <strong>use positioned placeholders</strong> like <code class="docutils literal notranslate"><span class="pre">%1$s</span></code>:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Select file from %1$slocal filesystem%2$s or %3$scloud%4$s&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&lt;a href=&quot;#&quot; id=&quot;browselink&quot;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;a href=&quot;#&quot; id=&quot;cloudlink&quot;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">]));</span><span class="cp">?&gt;</span>
</pre></div>
</div>
<p>This allows translators to have the cloudlink before the browselink in case the language is e.g. right-to-left.</p>
</section>
<section id="hints">
<h4>Hints<a class="headerlink" href="#hints" title="Permalink to this headline"></a></h4>
<p>In case some translation strings may be translated wrongly because they have multiple meanings, you can add hints which will be shown in the Transifex web-interface:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;ul id=&quot;translations&quot;&gt;</span>
<span class="x">    &lt;li id=&quot;add-new&quot;&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span>
            <span class="c1">// TRANSLATORS Will be shown inside a popup and asks the user to add a new file</span>
            <span class="nx">p</span><span class="p">(</span><span class="nv">$l</span><span class="o">-&gt;</span><span class="na">t</span><span class="p">(</span><span class="s1">&#39;Add new file&#39;</span><span class="p">));</span>
        <span class="cp">?&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="adding-translations">
<h2>Adding translations<a class="headerlink" href="#adding-translations" title="Permalink to this headline"></a></h2>
<p>Nextcloud’s translation system is powered by <a class="reference external" href="https://www.transifex.com/nextcloud/">Transifex</a>. To start translating sign up and enter a group. If your community app should be translated by the <a class="reference external" href="https://www.transifex.com/nextcloud/nextcloud/dashboard/">Nextcloud community on Transifex</a> just follow the setup section below.</p>
<section id="translation-tool">
<h3>Translation tool<a class="headerlink" href="#translation-tool" title="Permalink to this headline"></a></h3>
<p>The translation tool scrapes the source code for method calls to  <strong>t()</strong>
or <strong>n()</strong> to extract the strings that should be translated. If you check
in minified JS code for example then those method names are also quite
common and could cause wrong extractions. For this reason we allow to
specify a list of files that the translation tool will not scrape for
strings. You simply need to add a file named <code class="file docutils literal notranslate"><span class="pre">.l10nignore</span></code> into
the root folder of your app and specify the files one per line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># compiled vue templates</span>
<span class="n">js</span><span class="o">/</span><span class="n">bruteforcesettings</span><span class="o">.</span><span class="n">js</span>
</pre></div>
</div>
</section>
<section id="setup-of-the-transifex-sync">
<h3>Setup of the transifex sync<a class="headerlink" href="#setup-of-the-transifex-sync" title="Permalink to this headline"></a></h3>
<p>To setup the transifex sync within the Nextcloud community you need to add first the
transifex config to your app folder at <code class="file docutils literal notranslate"><span class="pre">.tx/config</span></code> (please replace <strong>MYAPP</strong> with your apps id):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">main</span><span class="p">]</span>
<span class="n">host</span> <span class="o">=</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">transifex</span><span class="o">.</span><span class="n">com</span>
<span class="n">lang_map</span> <span class="o">=</span> <span class="n">bg_BG</span><span class="p">:</span> <span class="n">bg</span><span class="p">,</span> <span class="n">cs_CZ</span><span class="p">:</span> <span class="n">cs</span><span class="p">,</span> <span class="n">fi_FI</span><span class="p">:</span> <span class="n">fi</span><span class="p">,</span> <span class="n">hu_HU</span><span class="p">:</span> <span class="n">hu</span><span class="p">,</span> <span class="n">nb_NO</span><span class="p">:</span> <span class="n">nb</span><span class="p">,</span> <span class="n">sk_SK</span><span class="p">:</span> <span class="n">sk</span><span class="p">,</span> <span class="n">th_TH</span><span class="p">:</span> <span class="n">th</span><span class="p">,</span> <span class="n">ja_JP</span><span class="p">:</span> <span class="n">ja</span>

<span class="p">[</span><span class="n">nextcloud</span><span class="o">.</span><span class="n">MYAPP</span><span class="p">]</span>
<span class="n">file_filter</span> <span class="o">=</span> <span class="n">translationfiles</span><span class="o">/&lt;</span><span class="n">lang</span><span class="o">&gt;/</span><span class="n">MYAPP</span><span class="o">.</span><span class="n">po</span>
<span class="n">source_file</span> <span class="o">=</span> <span class="n">translationfiles</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="n">MYAPP</span><span class="o">.</span><span class="n">pot</span>
<span class="n">source_lang</span> <span class="o">=</span> <span class="n">en</span>
<span class="nb">type</span> <span class="o">=</span> <span class="n">PO</span>
</pre></div>
</div>
<p>Then create a folder <code class="file docutils literal notranslate"><span class="pre">l10n</span></code> and a file <code class="file docutils literal notranslate"><span class="pre">l10n/.gitkeep</span></code> to create an
empty folder which later holds the translations.</p>
<p>Add one more file called <code class="file docutils literal notranslate"><span class="pre">.l10nignore</span></code> in root of the repository and the files and folders to ignore for translations.
Mostly used to ignore packed js files.</p>
<p>Now the GitHub account <a class="reference external" href="https://github.com/nextcloud-bot">&#64;nextcloud-bot</a> needs
to get write access to your repository. It will run every night and only push
commits to the master branch once there is an update to the translation. In general
you should enable the <a class="reference external" href="https://help.github.com/articles/configuring-protected-branches/">protected branches feature</a>
at least for the master branch.</p>
<p>For the sync job there is a <a class="reference external" href="https://github.com/nextcloud/docker-ci/blob/master/translations/config.json">configuration file</a>
available in our docker-ci repository. Adding there the repo owner and repo name
to the section named <strong>app</strong> via pull request is enough. Once this change is in
one member of the sysadmin team will deploy it to the sync server and the job
will then run once a day.</p>
<p>If you need help then just <a class="reference external" href="https://github.com/nextcloud/docker-ci/issues/new">open a ticket with the request</a>
and we can also guide you through the steps.</p>
</section>
<section id="manual-translation">
<h3>Manual translation<a class="headerlink" href="#manual-translation" title="Permalink to this headline"></a></h3>
<p>If Transifex is not the right choice or the app is not accepted for translation,
generate the gettext strings by yourself by executing our
<a class="reference external" href="https://github.com/nextcloud/docker-ci/tree/master/translations/translationtool">translation tool</a>
in the app folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">http</span><span class="o">/</span><span class="n">nextcloud</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">myapp</span>
<span class="n">translationtool</span><span class="o">.</span><span class="n">phar</span> <span class="n">create</span><span class="o">-</span><span class="n">pot</span><span class="o">-</span><span class="n">files</span>
</pre></div>
</div>
<p>The translation tool requires <strong>gettext</strong>, installable via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gettext</span>
</pre></div>
</div>
<p>The above tool generates a template that can be used to translate all strings
of an app. This template is located in the folder <code class="file docutils literal notranslate"><span class="pre">translationfiles/template/</span></code> with the
name <code class="file docutils literal notranslate"><span class="pre">myapp.pot</span></code>. It can be used by your favored translation tool which
then creates a <code class="file docutils literal notranslate"><span class="pre">.po</span></code> file. The <code class="file docutils literal notranslate"><span class="pre">.po</span></code> file needs to be placed in a
folder named like the language code with the app name as filename - for example
<code class="file docutils literal notranslate"><span class="pre">translationfiles/es/myapp.po</span></code>. After this step the tool needs to be invoked to
transfer the po file into our own fileformat that is more easily readable by
the server code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">translationtool</span><span class="o">.</span><span class="n">phar</span> <span class="n">convert</span><span class="o">-</span><span class="n">po</span><span class="o">-</span><span class="n">files</span>
</pre></div>
</div>
<p>Now the following folder structure is available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myapp</span><span class="o">/</span><span class="n">l10n</span>
<span class="o">|--</span> <span class="n">es</span><span class="o">.</span><span class="n">js</span>
<span class="o">|--</span> <span class="n">es</span><span class="o">.</span><span class="n">json</span>
<span class="n">myapp</span><span class="o">/</span><span class="n">translationfiles</span>
<span class="o">|--</span> <span class="n">es</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">myapp</span><span class="o">.</span><span class="n">po</span>
<span class="o">|--</span> <span class="n">templates</span>
    <span class="o">|--</span> <span class="n">myapp</span><span class="o">.</span><span class="n">pot</span>
</pre></div>
</div>
<p>You then just need the <code class="file docutils literal notranslate"><span class="pre">.json</span></code> and <code class="file docutils literal notranslate"><span class="pre">.js</span></code> files for a working localized app.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="css.html" class="btn btn-neutral float-left" title="CSS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="theming.html" class="btn btn-neutral float-right" title="Theming support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Nextcloud GmbH.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.nextcloud.com/server/19/developer_manual">19</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/20/developer_manual">20</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/21/developer_manual">21</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/stable/developer_manual">stable</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/latest/developer_manual">latest</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
      </dl>
      <dl>
        
        <dt>On Read the Docs</dt>
          <dd>
            <a href="///projects//?fromdocs=">Project Home</a>
          </dd>
          <dd>
            <a href="///builds//?fromdocs=">Builds</a>
          </dd>
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>