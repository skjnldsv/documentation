

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Webhook Listeners &mdash; Nextcloud latest Administration Manual latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=bad88653" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=f4332903"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
      <script src="../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/versions.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Windmill Workflows" href="../windmill_workflows/index.html" />
    <link rel="prev" title="AI as a Service" href="../ai/ai_as_a_service.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../contents.html">
            
              <img src="../_static/logo-white.png" class="logo" alt="Logo"/>
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_schedule.html">Maintenance and release schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation and server configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_server/index.html">Nextcloud configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../occ_command.html">Using the occ command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps_management.html">Apps management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exapps_management/index.html">ExApps management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_user/index.html">User management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_files/index.html">File sharing and management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../file_workflows/index.html">Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groupware/index.html">Groupware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../office/index.html">Office</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ai/index.html">Artificial Intelligence</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Webhook Listeners</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#listening-to-events">Listening to events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#filters">Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#speeding-up-webhook-dispatch">Speeding up webhook dispatch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#screen-or-tmux-session">Screen or tmux session</a></li>
<li class="toctree-l4"><a class="reference internal" href="#systemd-service">Systemd service</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nextcloud-webhook-events">Nextcloud Webhook Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../windmill_workflows/index.html">Windmill Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_database/index.html">Database configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_mimetypes/index.html">Mimetypes management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues and troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gdpr/index.html">GDPR-compliance</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">Nextcloud latest Administration Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Webhook Listeners</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nextcloud/documentation/edit/master/admin_manual/webhook_listeners/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="webhook-listeners">
<h1>Webhook Listeners<a class="headerlink" href="#webhook-listeners" title="Link to this heading"></a></h1>
<p id="id1">Nextcloud supports listening to internal events via webhooks.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Enable the <code class="docutils literal notranslate"><span class="pre">webhook_listeners</span></code> app that comes bundled with Nextcloud</p></li>
</ul>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>occ<span class="w"> </span>app:enable<span class="w"> </span>webhook_listeners
</pre></div>
</div>
</section>
<section id="listening-to-events">
<h2>Listening to events<a class="headerlink" href="#listening-to-events" title="Link to this heading"></a></h2>
<p>You can use the OCS API to add webhooks for specific events: <a class="reference external" href="https://docs.nextcloud.com/31/latest/developer_manual/_static/openapi.html#/operations/webhook_listeners-webhooks-index">https://docs.nextcloud.com/31/latest/developer_manual/_static/openapi.html#/operations/webhook_listeners-webhooks-index</a></p>
<p>Note: When authenticating with the OCS API to register webhooks the account you authenticate as must have administrator rights or delegated administrator rights.</p>
<section id="filters">
<h3>Filters<a class="headerlink" href="#filters" title="Link to this heading"></a></h3>
<p>When registering a webhook listener, you can specify a filter parameter. The value of this parameter must be a JSON object whose properties represent filter conditions. The <code class="docutils literal notranslate"><span class="pre">{}</span></code> is an empty query, meaning no specific criteria, so all events are matched.</p>
<p>If you would like to match events fired by a specific user, you can pass <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;user.uid&quot;:</span> <span class="pre">&quot;bob&quot;</span> <span class="pre">}</span></code> to match all events fired in the context of user <code class="docutils literal notranslate"><span class="pre">&quot;bob&quot;</span></code>.</p>
<p>If you would like to enforce multiple criteria, you can simply pass multiple properties <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;event.tableId&quot;:</span> <span class="pre">42,</span> <span class="pre">&quot;event.rowId&quot;:</span> <span class="pre">3</span> <span class="pre">}</span></code></p>
<p>You can also use additional comparison operators (<code class="docutils literal notranslate"><span class="pre">$eq,</span> <span class="pre">$ne,</span> <span class="pre">$gt,</span> <span class="pre">$gte,</span> <span class="pre">$lt,</span> <span class="pre">$lte,</span> <span class="pre">$in,</span> <span class="pre">$nin</span></code>) as well as logical operators (<code class="docutils literal notranslate"><span class="pre">$and,</span> <span class="pre">$or,</span> <span class="pre">$not,</span> <span class="pre">$nor</span></code>). For example use <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;time&quot;</span> <span class="pre">:</span> <span class="pre">{</span> <span class="pre">&quot;$lt&quot;:</span> <span class="pre">1711971024</span> <span class="pre">}</span> <span class="pre">}</span></code> to accept only events prior to April 1st 2024 and <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;time&quot;</span> <span class="pre">:</span> <span class="pre">{</span> <span class="pre">&quot;$not&quot;:</span> <span class="pre">{</span> <span class="pre">&quot;$lt&quot;:</span> <span class="pre">1711971024</span> <span class="pre">}</span> <span class="pre">}</span> <span class="pre">}</span></code> to accept events after April 1st 2024.</p>
</section>
<section id="speeding-up-webhook-dispatch">
<h3>Speeding up webhook dispatch<a class="headerlink" href="#speeding-up-webhook-dispatch" title="Link to this heading"></a></h3>
<p>This app uses background jobs to trigger the registered webhooks. Thus, by default, webhooks will be triggered only every 5 minutes, as the default cron interval is 5 minutes.
To trigger webhooks earlier, you can set up a background job worker. The following command will launch a worker for the webhook call background job:</p>
<section id="screen-or-tmux-session">
<h4>Screen or tmux session<a class="headerlink" href="#screen-or-tmux-session" title="Link to this heading"></a></h4>
<p>Run the following occ command inside a screen or a tmux session, preferably 4 or more times for parallel processing of multiple requests by different or the same user.
It would be best to run one command per screen session or per tmux window/pane to keep the logs visible and the worker easily restartable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="o">-</span><span class="n">e</span><span class="p">;</span> <span class="k">while</span> <span class="n">true</span><span class="p">;</span> <span class="n">do</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">occ</span> <span class="n">background</span><span class="o">-</span><span class="n">job</span><span class="p">:</span><span class="n">worker</span> <span class="o">-</span><span class="n">v</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span> <span class="s2">&quot;OCA\WebhookListeners\BackgroundJobs\WebhookCall&quot;</span><span class="p">;</span> <span class="n">done</span>
</pre></div>
</div>
<p>For Nextcloud-AIO you should use this command on the host server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="o">-</span><span class="n">e</span><span class="p">;</span> <span class="k">while</span> <span class="n">true</span><span class="p">;</span> <span class="n">do</span> <span class="n">sudo</span> <span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="o">-</span><span class="n">it</span> <span class="n">nextcloud</span><span class="o">-</span><span class="n">aio</span><span class="o">-</span><span class="n">nextcloud</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">background</span><span class="o">-</span><span class="n">job</span><span class="p">:</span><span class="n">worker</span> <span class="o">-</span><span class="n">v</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span> <span class="s2">&quot;OCA\WebhookListeners\BackgroundJobs\WebhookCall&quot;</span><span class="p">;</span> <span class="n">done</span>
</pre></div>
</div>
<p>You may want to adjust the number of workers and the timeout (in seconds) to your needs.
The logs of the worker can be checked by attaching to the screen or tmux session.</p>
</section>
<section id="systemd-service">
<h4>Systemd service<a class="headerlink" href="#systemd-service" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Create a systemd service file in <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/nextcloud-webhook-worker&#64;.service</span></code> with the following content:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Nextcloud</span> <span class="n">Webhook</span> <span class="n">worker</span> <span class="o">%</span><span class="n">i</span>
<span class="n">After</span><span class="o">=</span><span class="n">network</span><span class="o">.</span><span class="n">target</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="n">ExecStart</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">nextcloud</span><span class="o">-</span><span class="n">webhook</span><span class="o">-</span><span class="n">worker</span><span class="o">/</span><span class="n">taskprocessing</span><span class="o">.</span><span class="n">sh</span> <span class="o">%</span><span class="n">i</span>
<span class="n">Restart</span><span class="o">=</span><span class="n">always</span>
<span class="n">StartLimitInterval</span><span class="o">=</span><span class="mi">60</span>
<span class="n">StartLimitBurst</span><span class="o">=</span><span class="mi">10</span>

<span class="p">[</span><span class="n">Install</span><span class="p">]</span>
<span class="n">WantedBy</span><span class="o">=</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="o">.</span><span class="n">target</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Create a shell script in <code class="docutils literal notranslate"><span class="pre">/opt/nextcloud-webhook-worker/taskprocessing.sh</span></code> with the following content and make sure to make it executable:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="n">echo</span> <span class="s2">&quot;Starting Nextcloud Webhook Worker $1&quot;</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">nextcloud</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">background</span><span class="o">-</span><span class="n">job</span><span class="p">:</span><span class="n">worker</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span> <span class="s1">&#39;OCA\WebhookListeners\BackgroundJobs\WebhookCall&#39;</span>
</pre></div>
</div>
<p>You may want to adjust the timeout to your needs (in seconds).</p>
<ol class="arabic simple" start="3">
<li><p>Enable and start the service 4 or more times:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>for i in {1..4}; do systemctl enable --now nextcloud-webhook-worker@$i.service; done
</pre></div>
</div>
<p>The status of the workers can be checked with (replace 1 with the worker number):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">status</span> <span class="n">nextcloud</span><span class="o">-</span><span class="n">webhook</span><span class="o">-</span><span class="n">worker</span><span class="o">@</span><span class="mf">1.</span><span class="n">service</span>
</pre></div>
</div>
<p>The list of workers can be checked with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="nb">list</span><span class="o">-</span><span class="n">units</span> <span class="o">--</span><span class="nb">type</span><span class="o">=</span><span class="n">service</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">nextcloud</span><span class="o">-</span><span class="n">webhook</span><span class="o">-</span><span class="n">worker</span>
</pre></div>
</div>
<p>The complete logs of the workers can be checked with (replace 1 with the worker number):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">journalctl</span> <span class="o">-</span><span class="n">xeu</span> <span class="n">nextcloud</span><span class="o">-</span><span class="n">webhook</span><span class="o">-</span><span class="n">worker</span><span class="o">@</span><span class="mf">1.</span><span class="n">service</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
<p>It is recommended to restart this worker at least once a day to make sure code changes are effective and avoid memory leaks, in this example the service restarts every 60 seconds.</p>
</section>
</section>
</section>
<section id="nextcloud-webhook-events">
<h2>Nextcloud Webhook Events<a class="headerlink" href="#nextcloud-webhook-events" title="Link to this heading"></a></h2>
<p>This is an exhaustive list of available events. It features the event ID and the available variables for filtering.</p>
<blockquote>
<div><ul class="simple">
<li><p>OCA\Forms\Events\FormSubmittedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;form&quot;: array{
     &quot;id&quot;: int,
     &quot;hash&quot;: string,
     &quot;title&quot;: string,
     &quot;description&quot;: string,
     &quot;ownerId&quot;: string,
     &quot;fileId&quot;: string|null,
     &quot;fileFormat&quot;: string|null,
     &quot;created&quot;: int,
     &quot;access&quot;: int,
     &quot;expires&quot;: int,
     &quot;isAnonymous&quot;: bool,
     &quot;submitMultiple&quot;: bool,
     &quot;showExpiration&quot;: bool,
     &quot;lastUpdated&quot;: int,
     &quot;submissionMessage&quot;: string|null,
     &quot;state&quot;: int,
    },
    &quot;submission&quot;: array{
      &quot;id&quot;: int,
      &quot;formId&quot;: int,
      &quot;userId&quot;: string,
      &quot;timestamp&quot;: int,
    },
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCA\Tables\Event\RowAddedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;tableId&quot;: int,
    &quot;rowId&quot;: int,
    &quot;previousValues&quot;: null|array&lt;int, mixed&gt;,
    &quot;values&quot;: null|array&lt;int, mixed&gt;
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCA\Tables\Event\RowDeletedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;tableId&quot;: int,
    &quot;rowId&quot;: int,
    &quot;previousValues&quot;: null|array&lt;int, mixed&gt;,
    &quot;values&quot;: null|array&lt;int, mixed&gt;
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCA\Tables\Event\RowUpdatedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;tableId&quot;: int,
    &quot;rowId&quot;: int,
    &quot;previousValues&quot;: null|array&lt;int, mixed&gt;,
    &quot;values&quot;: null|array&lt;int, mixed&gt;
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeCreatedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeTouchedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeWrittenEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeReadEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeDeletedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeCreatedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeTouchedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeWrittenEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeDeletedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;node&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeCopiedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;source&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
    &quot;target&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeRestoredEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;source&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
    &quot;target&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\NodeRenamedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;source&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
    &quot;target&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeCopiedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;source&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
    &quot;target&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeRestoredEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;source&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
    &quot;target&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>OCP\Files\Events\Node\BeforeNodeRenamedEvent</p></li>
</ul>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>array{
  &quot;user&quot;: array {&quot;uid&quot;: string, &quot;displayName&quot;: string},
  &quot;time&quot;: int,
  &quot;event&quot;: array{
    &quot;class&quot;: string,
    &quot;source&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
    &quot;target&quot;: array{&quot;id&quot;: string, &quot;path&quot;: string}
  }
}
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ai/ai_as_a_service.html" class="btn btn-neutral float-left" title="AI as a Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../windmill_workflows/index.html" class="btn btn-neutral float-right" title="Windmill Workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Nextcloud GmbH.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.nextcloud.com/server/28/admin_manual">28</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/29/admin_manual">29</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/30/admin_manual">30</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/stable/admin_manual">stable</a></dd>
        
          <dd><a href="https://docs.nextcloud.com/server/latest/admin_manual">latest</a></dd>
        
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>