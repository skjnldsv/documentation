.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


CryptoSessionData
=================


.. php:namespace:: OC\Session

.. php:class:: CryptoSessionData


	.. rst-class:: phpdoc-description
	
		| Class CryptoSessionData
		
	
	:Source:
		`lib/private/Session/CryptoSessionData.php#42 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L42>`_
	
	:Implements:
		:php:interface:`ArrayAccess` :php:interface:`OCP\\ISession` 
	

Constants
---------

.. php:const:: encryptedSessionName = encrypted\_session\_data

	:Source:
		`lib/private/Session/CryptoSessionData.php#53 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L53>`_
	


Properties
----------

.. php:attr:: protected static session

	:Source:
		`lib/private/Session/CryptoSessionData.php#44 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L44>`_
	
	:Type: :any:`\\OCP\\ISession <OCP\\ISession>` 


.. php:attr:: protected static crypto

	:Source:
		`lib/private/Session/CryptoSessionData.php#46 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L46>`_
	
	:Type: :any:`\\OCP\\Security\\ICrypto <OCP\\Security\\ICrypto>` 


.. php:attr:: protected static passphrase

	:Source:
		`lib/private/Session/CryptoSessionData.php#48 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L48>`_
	
	:Type: string 


.. php:attr:: protected static sessionValues

	:Source:
		`lib/private/Session/CryptoSessionData.php#50 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L50>`_
	
	:Type: array 


.. php:attr:: protected static isModified

	:Source:
		`lib/private/Session/CryptoSessionData.php#52 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L52>`_
	
	:Type: bool 


Methods
-------

.. rst-class:: public

	.. php:method:: public __construct( $session, $crypto, $passphrase)
	
		:Source:
			`lib/private/Session/CryptoSessionData.php#60 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L60>`_
		
		
		:Parameters:
			* **$session** (:any:`OCP\\ISession <OCP\\ISession>`)  
			* **$crypto** (:any:`OCP\\Security\\ICrypto <OCP\\Security\\ICrypto>`)  
			* **$passphrase** (string)  

		
	
	

.. rst-class:: public

	.. php:method:: public __destruct()
	
		.. rst-class:: phpdoc-description
		
			| Close session if class gets destructed
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#72 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L72>`_
		
		
	
	

.. rst-class:: protected

	.. php:method:: protected initializeSession()
	
		:Source:
			`lib/private/Session/CryptoSessionData.php#81 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L81>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public set( $key, $value)
	
		.. rst-class:: phpdoc-description
		
			| Set a value in the session
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#100 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L100>`_
		
		
		:Parameters:
			* **$key** (string)  
			* **$value** (mixed)  

		
	
	

.. rst-class:: public

	.. php:method:: public get( $key)
	
		.. rst-class:: phpdoc-description
		
			| Get a value from the session
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#111 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L111>`_
		
		
		:Parameters:
			* **$key** (string)  

		
		:Returns: string | null Either the value or null
	
	

.. rst-class:: public

	.. php:method:: public exists( $key)
	
		.. rst-class:: phpdoc-description
		
			| Check if a named key exists in the session
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#125 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L125>`_
		
		
		:Parameters:
			* **$key** (string)  

		
		:Returns: bool 
	
	

.. rst-class:: public

	.. php:method:: public remove( $key)
	
		.. rst-class:: phpdoc-description
		
			| Remove a $key/$value pair from the session
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#134 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L134>`_
		
		
		:Parameters:
			* **$key** (string)  

		
	
	

.. rst-class:: public

	.. php:method:: public clear()
	
		.. rst-class:: phpdoc-description
		
			| Reset and recreate the session
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#143 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L143>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public regenerateId( $deleteOldSession=true, $updateToken=false)
	
		.. rst-class:: phpdoc-description
		
			| Wrapper around session\_regenerate\_id
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#160 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L160>`_
		
		
		:Parameters:
			* **$deleteOldSession** (bool)  Whether to delete the old associated session file or not.
			* **$updateToken** (bool)  Wheater to update the associated auth token

		
		:Returns: void 
	
	

.. rst-class:: public

	.. php:method:: public getId()
	
		.. rst-class:: phpdoc-description
		
			| Wrapper around session\_id
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#171 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L171>`_
		
		
		:Returns: string 
		:Throws: :any:`\\OCP\\Session\\Exceptions\\SessionNotAvailableException <OCP\\Session\\Exceptions\\SessionNotAvailableException>` 
		:Since: 9.1.0 
	
	

.. rst-class:: public

	.. php:method:: public close()
	
		.. rst-class:: phpdoc-description
		
			| Close the session and release the lock, also writes all changed data in batch
			
		
		:Source:
			`lib/private/Session/CryptoSessionData.php#178 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L178>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public offsetExists( $offset)
	
		:Source:
			`lib/private/Session/CryptoSessionData.php#191 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L191>`_
		
		
		:Parameters:
			* **$offset** (mixed)  

		
		:Returns: bool 
	
	

.. rst-class:: public

	.. php:method:: public offsetGet( $offset)
	
		:Source:
			`lib/private/Session/CryptoSessionData.php#199 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L199>`_
		
		
		:Parameters:
			* **$offset** (mixed)  

		
		:Returns: mixed 
	
	

.. rst-class:: public

	.. php:method:: public offsetSet( $offset, $value)
	
		:Source:
			`lib/private/Session/CryptoSessionData.php#207 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L207>`_
		
		
		:Parameters:
			* **$offset** (mixed)  
			* **$value** (mixed)  

		
	
	

.. rst-class:: public

	.. php:method:: public offsetUnset( $offset)
	
		:Source:
			`lib/private/Session/CryptoSessionData.php#214 <https://github.com/nextcloud/server/blob/stable13/lib/private/Session/CryptoSessionData.php#L214>`_
		
		
		:Parameters:
			* **$offset** (mixed)  

		
	
	

