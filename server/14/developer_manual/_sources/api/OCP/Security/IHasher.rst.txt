.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


IHasher
=======


.. php:namespace:: OCP\Security

.. php:interface:: IHasher


	.. rst-class:: phpdoc-description
	
		| Class Hasher provides some basic hashing functions\. Furthermore, it supports legacy hashes
		| used by previous versions of ownCloud and helps migrating those hashes to newer ones\.
		
		| The hashes generated by this class are prefixed \(version\|hash\) with a version parameter to allow possible
		| updates in the future\.
		| Possible versions:
		| 	\- 1 \(Initial version\)
		| 
		| Usage:
		| // Hashing a message
		| $hash = \\OC::$server\-\>getHasher\(\)\-\>hash\(\'MessageToHash\'\);
		| // Verifying a message \- $newHash will contain the newly calculated hash
		| $newHash = null;
		| var\_dump\(\\OC::$server\-\>getHasher\(\)\-\>verify\(\'a\', \'86f7e437faa5a7fce15d1ddcb9eaeaea377667b8\', $newHash\)\);
		| var\_dump\($newHash\);
		
	
	:Implemented by:
		:php:class:`OC\\Security\\Hasher` 
	
	
	:Source:
		`lib/public/Security/IHasher.php#49 <https://github.com/nextcloud/server/blob/stable13/lib/public/Security/IHasher.php#L49>`_
	

Methods
-------

.. rst-class:: public

	.. php:method:: public hash( $message)
	
		.. rst-class:: phpdoc-description
		
			| Hashes a message using PHP\'s \`password\_hash\` functionality\.
			
			| Please note that the size of the returned string is not guaranteed
			| and can be up to 255 characters\.
			
		
		:Source:
			`lib/public/Security/IHasher.php#59 <https://github.com/nextcloud/server/blob/stable13/lib/public/Security/IHasher.php#L59>`_
		
		
		:Parameters:
			* **$message** (string)  Message to generate hash from

		
		:Returns: string Hash of the message with appended version parameter
		:Since: 8.0.0 
	
	

.. rst-class:: public

	.. php:method:: public verify( $message, $hash, &$newHash=null)
	
		:Source:
			`lib/public/Security/IHasher.php#68 <https://github.com/nextcloud/server/blob/stable13/lib/public/Security/IHasher.php#L68>`_
		
		
		:Parameters:
			* **$message** (string)  Message to verify
			* **$hash** (string)  Assumed hash of the message

		
		:Returns: bool Whether $hash is a valid hash of $message
		:Since: 8.0.0 
	
	

