.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


IQueryLogger
============


.. php:namespace:: OCP\Diagnostics

.. php:interface:: IQueryLogger


	.. rst-class:: phpdoc-description
	
		| Interface IQueryLogger
		
	
	:Implemented by:
		:php:class:`OC\\Diagnostics\\QueryLogger` 
	
	
	:Source:
		`lib/public/Diagnostics/IQueryLogger.php#36 <https://github.com/nextcloud/server/blob/stable13/lib/public/Diagnostics/IQueryLogger.php#L36>`_
	
	:Parent:
		:php:interface:`Doctrine\\DBAL\\Logging\\SQLLogger`
	

Methods
-------

.. rst-class:: public

	.. php:method:: public startQuery( $sql, $params=null, $types=null)
	
		.. rst-class:: phpdoc-description
		
			| Mark the start of a query providing query SQL statement, its parameters and types\.
			
			| This method should be called as close to the DB as possible and after
			| query is finished finalized with stopQuery\(\) method\.
			
		
		:Source:
			`lib/public/Diagnostics/IQueryLogger.php#47 <https://github.com/nextcloud/server/blob/stable13/lib/public/Diagnostics/IQueryLogger.php#L47>`_
		
		
		:Parameters:
			* **$sql** (string)  
			* **$params** (array | null)  
			* **$types** (array | null)  

		
		:Since: 8.0.0 
	
	

.. rst-class:: public

	.. php:method:: public stopQuery()
	
		.. rst-class:: phpdoc-description
		
			| Mark the end of the current active query\. Ending query should store \\OCP\\Diagnostics\\IQuery to
			| be returned with getQueries\(\) method\.
			
		
		:Source:
			`lib/public/Diagnostics/IQueryLogger.php#56 <https://github.com/nextcloud/server/blob/stable13/lib/public/Diagnostics/IQueryLogger.php#L56>`_
		
		
		:Returns: mixed 
		:Since: 8.0.0 
	
	

.. rst-class:: public

	.. php:method:: public getQueries()
	
		.. rst-class:: phpdoc-description
		
			| This method should return all \\OCP\\Diagnostics\\IQuery objects stored using
			| startQuery\(\)/stopQuery\(\) methods\.
			
		
		:Source:
			`lib/public/Diagnostics/IQueryLogger.php#65 <https://github.com/nextcloud/server/blob/stable13/lib/public/Diagnostics/IQueryLogger.php#L65>`_
		
		
		:Returns: :any:`\\OCP\\Diagnostics\\IQuery\[\] <OCP\\Diagnostics\\IQuery>` 
		:Since: 8.0.0 
	
	

.. rst-class:: public

	.. php:method:: public activate()
	
		.. rst-class:: phpdoc-description
		
			| Activate the module for the duration of the request\. Deactivated module
			| does not create and store \\OCP\\Diagnostics\\IQuery objects\.
			
			| Only activated module should create and store objects to be
			| returned with getQueries\(\) call\.
			
		
		:Source:
			`lib/public/Diagnostics/IQueryLogger.php#75 <https://github.com/nextcloud/server/blob/stable13/lib/public/Diagnostics/IQueryLogger.php#L75>`_
		
		
		:Since: 12.0.0 
	
	

