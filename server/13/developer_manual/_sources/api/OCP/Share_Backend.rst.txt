.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


Share\_Backend
==============


.. php:namespace:: OCP

.. php:interface:: Share_Backend


	.. rst-class:: phpdoc-description
	
		| Interface that apps must implement to share content\.
		
	
	:Source:
		`lib/public/Share_Backend.php#36 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share_Backend.php#L36>`_
	

Methods
-------

.. rst-class:: public

	.. php:method:: public isValidSource( $itemSource, $uidOwner)
	
		.. rst-class:: phpdoc-description
		
			| Check if this $itemSource exist for the user
			
		
		:Source:
			`lib/public/Share_Backend.php#47 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share_Backend.php#L47>`_
		
		
		:Parameters:
			* **$itemSource** (string)  
			* **$uidOwner** (string)  Owner of the item

		
		:Returns: bool | null Source
			
			Return false if the item does not exist for the user
		
		:Since: 5.0.0 
	
	

.. rst-class:: public

	.. php:method:: public generateTarget( $itemSource, $shareWith, $exclude=null)
	
		.. rst-class:: phpdoc-description
		
			| Get a unique name of the item for the specified user
			
		
		:Source:
			`lib/public/Share_Backend.php#60 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share_Backend.php#L60>`_
		
		
		:Parameters:
			* **$itemSource** (string)  
			* **$shareWith** (string | bool)  User the item is being shared with
			* **$exclude** (array | null)  List of similar item names already existing as shared items @deprecated since version OC7

		
		:Returns: string Target name
			
			This function needs to verify that the user does not already have an item with this name\.
			If it does generate a new name e\.g\. name\_\#
		
		:Since: 5.0.0 
	
	

.. rst-class:: public

	.. php:method:: public formatItems( $items, $format, $parameters=null)
	
		.. rst-class:: phpdoc-description
		
			| Converts the shared item sources back into the item in the specified format
			
		
		:Source:
			`lib/public/Share_Backend.php#84 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share_Backend.php#L84>`_
		
		
		:Parameters:
			* **$items** (array)  Shared items
			* **$format** (int)  

		
		:Returns: array The items array is a 3\-dimensional array with the item\_source as the
			first key and the share id as the second key to an array with the share
			info\.
			
			The key/value pairs included in the share info depend on the function originally called:
			If called by getItem\(s\)Shared: id, item\_type, item, item\_source,
			share\_type, share\_with, permissions, stime, file\_source
			
			If called by getItem\(s\)SharedWith: id, item\_type, item, item\_source,
			item\_target, share\_type, share\_with, permissions, stime, file\_source,
			file\_target
			
			This function allows the backend to control the output of shared items with custom formats\.
			It is only called through calls to the public getItem\(s\)Shared\(With\) functions\.
		
		:Since: 5.0.0 
	
	

.. rst-class:: public

	.. php:method:: public isShareTypeAllowed( $shareType)
	
		.. rst-class:: phpdoc-description
		
			| Check if a given share type is allowd by the back\-end
			
		
		:Source:
			`lib/public/Share_Backend.php#97 <https://github.com/nextcloud/server/blob/stable13/lib/public/Share_Backend.php#L97>`_
		
		
		:Parameters:
			* **$shareType** (int)  share type

		
		:Returns: bool The back\-end can enable/disable specific share types\. Just return true if
			the back\-end doesn\'t provide any specific settings for it and want to allow
			all share types defined by the share API
		
		:Since: 8.0.0 
	
	

