.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


IMailer
=======


.. php:namespace:: OCP\Mail

.. php:interface:: IMailer


	.. rst-class:: phpdoc-description
	
		| Class IMailer provides some basic functions to create a mail message that can be used in combination with
		| \\OC\\Mail\\Message\.
		
		| Example usage:
		| 
		| 	$mailer = \\OC::$server\-\>getMailer\(\);
		| 	$message = $mailer\-\>createMessage\(\);
		| 	$message\-\>setSubject\(\'Your Subject\'\);
		| 	$message\-\>setFrom\(\[\'cloud@domain\.org\' =\> \'Nextcloud Notifier\'\]\);
		| 	$message\-\>setTo\(\[\'recipient@domain\.org\' =\> \'Recipient\'\]\);
		| 	$message\-\>setPlainBody\(\'The message text\'\);
		| 	$message\-\>setHtmlBody\(\'The <strong\>message</strong\> text\'\);
		| 	$mailer\-\>send\($message\);
		| 
		| This message can then be passed to send\(\) of \\OC\\Mail\\Mailer
		
	
	:Implemented by:
		:php:class:`OC\\Mail\\Mailer` 
	
	
	:Source:
		`lib/public/Mail/IMailer.php#50 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L50>`_
	

Methods
-------

.. rst-class:: public

	.. php:method:: public createMessage()
	
		.. rst-class:: phpdoc-description
		
			| Creates a new message object that can be passed to send\(\)
			
		
		:Source:
			`lib/public/Mail/IMailer.php#57 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L57>`_
		
		
		:Returns: :any:`\\OCP\\Mail\\IMessage <OCP\\Mail\\IMessage>` 
		:Since: 8.1.0 
	
	

.. rst-class:: public

	.. php:method:: public createAttachment( $data=null, $filename=null, $contentType=null)
	
		:Source:
			`lib/public/Mail/IMailer.php#66 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L66>`_
		
		
		:Parameters:
			* **$data** (string | null)  
			* **$filename** (string | null)  
			* **$contentType** (string | null)  

		
		:Returns: :any:`\\OCP\\Mail\\IAttachment <OCP\\Mail\\IAttachment>` 
		:Since: 13.0.0 
	
	

.. rst-class:: public

	.. php:method:: public createAttachmentFromPath( $path, $contentType=null)
	
		:Source:
			`lib/public/Mail/IMailer.php#74 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L74>`_
		
		
		:Parameters:
			* **$path** (string)  
			* **$contentType** (string | null)  

		
		:Returns: :any:`\\OCP\\Mail\\IAttachment <OCP\\Mail\\IAttachment>` 
		:Since: 13.0.0 
	
	

.. rst-class:: public

	.. php:method:: public createEMailTemplate( $emailId, $data=\[\])
	
		.. rst-class:: phpdoc-description
		
			| Creates a new email template object
			
		
		:Source:
			`lib/public/Mail/IMailer.php#84 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L84>`_
		
		
		:Parameters:
			* **$emailId** (string)  
			* **$data** (array)  

		
		:Returns: :any:`\\OCP\\Mail\\IEMailTemplate <OCP\\Mail\\IEMailTemplate>` 
		:Since: 12.0.0 Parameters added in 12\.0\.3
	
	

.. rst-class:: public

	.. php:method:: public send( $message)
	
		.. rst-class:: phpdoc-description
		
			| Send the specified message\. Also sets the from address to the value defined in config\.php
			| if no\-one has been passed\.
			
		
		:Source:
			`lib/public/Mail/IMailer.php#97 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L97>`_
		
		
		:Parameters:
			* **$message** (:any:`OCP\\Mail\\IMessage <OCP\\Mail\\IMessage>`)  Message to send

		
		:Returns: string[] Array with failed recipients\. Be aware that this depends on the used mail backend and
			therefore should be considered
		
		:Throws: :any:`\\Exception <Exception>` In case it was not possible to send the message\. \(for example if an invalid mail address
			has been supplied\.\)
		
		:Since: 8.1.0 
	
	

.. rst-class:: public

	.. php:method:: public validateMailAddress( $email)
	
		.. rst-class:: phpdoc-description
		
			| Checks if an e\-mail address is valid
			
		
		:Source:
			`lib/public/Mail/IMailer.php#106 <https://github.com/nextcloud/server/blob/stable13/lib/public/Mail/IMailer.php#L106>`_
		
		
		:Parameters:
			* **$email** (string)  Email address to be validated

		
		:Returns: bool True if the mail address is valid, false otherwise
		:Since: 8.1.0 
	
	

