.. rst-class:: phpdoctorst

.. role:: php(code)
	:language: php


Local
=====


.. php:namespace:: OC\Files\Storage

.. php:class:: Local


	.. rst-class:: phpdoc-description
	
		| for local filestore, we only have to map the paths
		
	
	:Source:
		`lib/private/Files/Storage/Local.php#56 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L56>`_
	
	:Parent:
		:php:class:`OC\\Files\\Storage\\Common`
	

Properties
----------

.. php:attr:: protected static datadir

	:Source:
		`lib/private/Files/Storage/Local.php#57 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L57>`_
	


.. php:attr:: protected static dataDirLength

	:Source:
		`lib/private/Files/Storage/Local.php#59 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L59>`_
	


.. php:attr:: protected static realDataDir

	:Source:
		`lib/private/Files/Storage/Local.php#61 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L61>`_
	


Methods
-------

.. rst-class:: public

	.. php:method:: public __construct( $arguments)
	
		:Source:
			`lib/private/Files/Storage/Local.php#63 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L63>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public __destruct()
	
		:Source:
			`lib/private/Files/Storage/Local.php#81 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L81>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public getId()
	
		:Source:
			`lib/private/Files/Storage/Local.php#84 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L84>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public mkdir( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#88 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L88>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public rmdir( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#96 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L96>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public opendir( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#134 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L134>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public is_dir( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#138 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L138>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public is_file( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#145 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L145>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public stat( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#149 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L149>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public getMetaData( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#164 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L164>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public filetype( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#210 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L210>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public filesize( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#218 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L218>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public isReadable( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#230 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L230>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public isUpdatable( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#234 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L234>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public file_exists( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#238 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L238>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public filemtime( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#242 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L242>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public touch( $path, $mtime=null)
	
		:Source:
			`lib/private/Files/Storage/Local.php#255 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L255>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public file_get_contents( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#276 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L276>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public file_put_contents( $path, $data)
	
		:Source:
			`lib/private/Files/Storage/Local.php#280 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L280>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public unlink( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#287 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L287>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public rename( $path1, $path2)
	
		:Source:
			`lib/private/Files/Storage/Local.php#307 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L307>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public copy( $path1, $path2)
	
		:Source:
			`lib/private/Files/Storage/Local.php#350 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L350>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public fopen( $path, $mode)
	
		:Source:
			`lib/private/Files/Storage/Local.php#361 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L361>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public hash( $type, $path, $raw=false)
	
		:Source:
			`lib/private/Files/Storage/Local.php#368 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L368>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public free_space( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#372 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L372>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public search( $query)
	
		:Source:
			`lib/private/Files/Storage/Local.php#388 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L388>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public getLocalFile( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#392 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L392>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public getLocalFolder( $path)
	
		:Source:
			`lib/private/Files/Storage/Local.php#396 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L396>`_
		
		
	
	

.. rst-class:: protected

	.. php:method:: protected searchInDir( $query, $dir="")
	
		:Source:
			`lib/private/Files/Storage/Local.php#405 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L405>`_
		
		
		:Parameters:
			* **$query** (string)  
			* **$dir** (string)  

		
		:Returns: array 
	
	

.. rst-class:: public

	.. php:method:: public hasUpdated( $path, $time)
	
		.. rst-class:: phpdoc-description
		
			| check if a file or folder has been updated since $time
			
		
		:Source:
			`lib/private/Files/Storage/Local.php#431 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L431>`_
		
		
		:Parameters:
			* **$path** (string)  
			* **$time** (int)  

		
		:Returns: bool 
	
	

.. rst-class:: public

	.. php:method:: public getSourcePath( $path)
	
		.. rst-class:: phpdoc-description
		
			| Get the source path \(on disk\) of a given path
			
		
		:Source:
			`lib/private/Files/Storage/Local.php#446 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L446>`_
		
		
		:Parameters:
			* **$path** (string)  

		
		:Returns: string 
		:Throws: :any:`\\OCP\\Files\\ForbiddenException <OCP\\Files\\ForbiddenException>` 
	
	

.. rst-class:: public

	.. php:method:: public isLocal()
	
		.. rst-class:: phpdoc-description
		
			| \{@inheritdoc\}
			
		
		:Source:
			`lib/private/Files/Storage/Local.php#480 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L480>`_
		
		
	
	

.. rst-class:: public

	.. php:method:: public getETag( $path)
	
		.. rst-class:: phpdoc-description
		
			| get the ETag for a file or folder
			
		
		:Source:
			`lib/private/Files/Storage/Local.php#490 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L490>`_
		
		
		:Parameters:
			* **$path** (string)  

		
		:Returns: string 
	
	

.. rst-class:: public

	.. php:method:: public copyFromStorage( $sourceStorage, $sourceInternalPath, $targetInternalPath, $preserveMtime=false)
	
		:Source:
			`lib/private/Files/Storage/Local.php#527 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L527>`_
		
		
		:Parameters:
			* **$sourceStorage** (:any:`OCP\\Files\\Storage\\IStorage <OCP\\Files\\Storage\\IStorage>`)  
			* **$sourceInternalPath** (string)  
			* **$targetInternalPath** (string)  
			* **$preserveMtime** (bool)  

		
		:Returns: bool 
	
	

.. rst-class:: public

	.. php:method:: public moveFromStorage( $sourceStorage, $sourceInternalPath, $targetInternalPath)
	
		:Source:
			`lib/private/Files/Storage/Local.php#551 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L551>`_
		
		
		:Parameters:
			* **$sourceStorage** (:any:`OCP\\Files\\Storage\\IStorage <OCP\\Files\\Storage\\IStorage>`)  
			* **$sourceInternalPath** (string)  
			* **$targetInternalPath** (string)  

		
		:Returns: bool 
	
	

.. rst-class:: public

	.. php:method:: public writeStream( $path, $stream, $size=null)
	
		:Source:
			`lib/private/Files/Storage/Local.php#569 <https://github.com/nextcloud/server/blob/stable13/lib/private/Files/Storage/Local.php#L569>`_
		
		
	
	

