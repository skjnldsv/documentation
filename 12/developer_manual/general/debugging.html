<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Debugging &#8212; Nextcloud Developer Manual 12 documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/main.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Backporting" href="backporting.html" />
    <link rel="prev" title="Performance Considerations" href="performance.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1d2d44">
<link rel="shortcut icon" href="https://nextcloud.com/wp-content/themes/next/assets/img/common/favicon.png" />
<link rel="apple-touch-icon-precomposed" href="https://nextcloud.com/wp-content/themes/next/assets/img/common/favicon.png" />
<!-- Piwik -->
<script type="text/javascript">
    var _paq = _paq || [];
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        var u="//stats.nextcloud.com/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', 3]);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
</script>
<noscript><p><img src="//stats.nextcloud.com/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->

  </head>
  <body role="document">

<header class="banner navbar navbar-default navbar-static-top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="brand" href="http://nextcloud.com/" rel="home" title="Nextcloud.com"><img class="logo" src="../_static/img/logo.svg" itemprop="logo"></a>
    </div>

    <nav class="collapse navbar-collapse" role="navigation">
      <ul id="menu-header" class="nav navbar-nav">
          <li><a target="_blank" href="https://demo.nextcloud.com">Demo</a></li>
          <li><a href="https://nextcloud.com/news/">News</a></li>
          <li><a href="https://nextcloud.com/features/">Features</a></li>
          <li><a href="https://nextcloud.com/about/">About us</a></li>
          <li><a href="https://nextcloud.com/contribute/">Get involved</a></li>
          <li><a href="https://nextcloud.com/support/">Support</a></li>
          <li><a href="https://nextcloud.com/enterprise/">Enterprise</a></li>
          <li class="menu-install"><a href="https://nextcloud.com/install/">Download</a></li>
      </ul>
    </nav>
  </div>
</header>




<div class="container" style="background-color: #E6C4C2;color: #b10000;border: #b10000 2px solid;border-right: none;border-left: none;padding: 15px 10px;">You are reading an outdated version of this documentation. Please check out the <a href="https://docs.nextcloud.com/server/stable/developer_manual/" style="
color: rgb(177,0,0);text-decoration: underline;">latest version</a> of the developer manual.</div>





<div class="wrap container not-front">
  <div class="content row">
  <main class="main">
    <div class="row page-content-header">
      <div class="col-md-6">
        <h1><a href="../index.html">Nextcloud Developer Manual</a></h1>
      </div>
      <div class="col-md-5 col-md-offset-1">
      
        <form class="headersearch" style="margin: 16px 0;" action="../search.html" method="get">
        <input type="text" value="" name="q" id="q" class="form-control" /> 
        <button  class="btn btn-default" type="submit" id="searchsubmit">Search</button>
        </form>
      
      </div>
    </div>
    
			<div class="row">
				<div class="col-md-3">
					<div class="sidebar">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>
										
<li><a href="../index.html">Table of Contents</a></li>
									</ul>
                  <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">General Contributor Guidelines</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="code-of-conduct.html">Community Code of Conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="devenv.html">Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="codingguidelines.html">Coding Style &amp; General Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">Performance Considerations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#debug-mode">Debug mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#identifying-errors">Identifying errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-variables">Debugging variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-a-php-debugger-xdebug">Using a PHP debugger (XDebug)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-javascript">Debugging Javascript</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-html-and-templates">Debugging HTML and templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-alternative-app-directories">Using alternative app directories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backporting.html">Backporting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../app/index.html">App Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../android_library/index.html">Android Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client_apis/index.html">Client APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugtracker/index.html">Bugtracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commun/index.html">Help and Communication</a></li>
</ul>

								</ul>
							</div>
					</div>
				</div>
        

				<div class="col-md-9">
					<div class="page-content">
            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="performance.html" title="Previous Chapter: Performance Considerations"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Performance C...</span>
    </a>
  </li>
  <li class="next">
    <a href="backporting.html" title="Next Chapter: Backporting"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Backporting &raquo;</span>
    </a>
  </li>
</ul>
						
  <div class="section" id="debugging">
<h1>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h1>
<div class="section" id="debug-mode">
<h2>Debug mode<a class="headerlink" href="#debug-mode" title="Permalink to this headline">¶</a></h2>
<p>When debug mode is enabled in Nextcloud, a variety of debugging features are enabled - see debugging documentation. Set <code class="docutils literal"><span class="pre">debug</span></code> to <code class="docutils literal"><span class="pre">true</span></code> in <code class="file docutils literal"><span class="pre">/config/config.php</span></code> to enable it:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nv">$CONFIG</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
    <span class="s1">&#39;debug&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="o">...</span> <span class="nx">configuration</span> <span class="nx">goes</span> <span class="nx">here</span> <span class="o">...</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="identifying-errors">
<h2>Identifying errors<a class="headerlink" href="#identifying-errors" title="Permalink to this headline">¶</a></h2>
<p>Nextcloud uses custom error PHP handling that prevents errors being printed to Web server log files or command line output. Instead, errors are generally stored in Nextcloud&#8217;s own log file, located at: <code class="file docutils literal"><span class="pre">/data/nextcloud.log</span></code></p>
</div>
<div class="section" id="debugging-variables">
<h2>Debugging variables<a class="headerlink" href="#debugging-variables" title="Permalink to this headline">¶</a></h2>
<p>You should use exceptions if you need to debug variable values manually, and not alternatives like trigger_error() (which may not be logged).</p>
<p>e.g.:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span> <span class="s2">&quot;</span><span class="se">\$</span><span class="s2">user = </span><span class="si">$user</span><span class="s2">&quot;</span> <span class="p">);</span> <span class="c1">// should be logged in Nextcloud ?&gt;</span>
</pre></div>
</div>
<p>not:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="nb">trigger_error</span><span class="p">(</span> <span class="s2">&quot;</span><span class="se">\$</span><span class="s2">user = </span><span class="si">$user</span><span class="s2">&quot;</span> <span class="p">);</span> <span class="c1">// may not be logged anywhere ?&gt;</span>
</pre></div>
</div>
<p>To disable custom error handling in Nextcloud (and have PHP and your Web server handle errors instead), see Debug mode.</p>
</div>
<div class="section" id="using-a-php-debugger-xdebug">
<h2>Using a PHP debugger (XDebug)<a class="headerlink" href="#using-a-php-debugger-xdebug" title="Permalink to this headline">¶</a></h2>
<p>Using a debugger connected to PHP allows you to step through code line by line, view variables at each line and even change values while the code is running. The de-facto standard debugger for PHP is XDebug, available as an installable package in many distributions. It just provides the PHP side however, so you will need a frontend to actually control XDebug. When installed, it needs to be enabled in <code class="file docutils literal"><span class="pre">php.ini</span></code>, along with some parameters to enable connections to the debugging interface:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">zend_extension</span><span class="o">=</span><span class="s">/usr/lib/php/modules/xdebug.so</span>
<span class="na">xdebug.remote_enable</span><span class="o">=</span><span class="s">on</span>
<span class="na">xdebug.remote_host</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="na">xdebug.remote_port</span><span class="o">=</span><span class="s">9000</span>
<span class="na">xdebug.remote_handler</span><span class="o">=</span><span class="s">dbgp</span>
</pre></div>
</div>
<p>XDebug will now (when activated) try to connect to localhost on port 9000, and will communicate over the standard protocol DBGP. This protocol is supported by many debugging interfaces, such as the following popular ones:</p>
<ul class="simple">
<li>vdebug - Multi-language DBGP debugger client for Vim</li>
<li>SublimeTextXdebug - XDebug client for Sublime Text</li>
<li>PHPStorm - in-built DBGP debugger</li>
</ul>
<p>For further reading, see the XDebug documentation: <a class="reference external" href="http://xdebug.org/docs/remote">http://xdebug.org/docs/remote</a></p>
<p>Once you are familiar with how your debugging client works, you can start debugging with XDebug. To test Nextcloud through the web interface or other HTTP requests, set the <code class="docutils literal"><span class="pre">XDEBUG_SESSION_START</span></code> cookie or POST parameter. Alternatively, there are browser extensions to make this easy:</p>
<ul class="simple">
<li>The Easiest XDebug (Firefox): <a class="reference external" href="https://addons.mozilla.org/en-US/firefox/addon/the-easiest-xdebug/">https://addons.mozilla.org/en-US/firefox/addon/the-easiest-xdebug/</a></li>
<li>XDebug Helper (Chrome): <a class="reference external" href="https://chrome.google.com/extensions/detail/eadndfjplgieldjbigjakmdgkmoaaaoc">https://chrome.google.com/extensions/detail/eadndfjplgieldjbigjakmdgkmoaaaoc</a></li>
</ul>
<p>For debugging scripts on the command line, like <code class="docutils literal"><span class="pre">occ</span></code> or unit tests, set the <code class="docutils literal"><span class="pre">XDEBUG_CONFIG</span></code> environment variable.</p>
</div>
<div class="section" id="debugging-javascript">
<h2>Debugging Javascript<a class="headerlink" href="#debugging-javascript" title="Permalink to this headline">¶</a></h2>
<p>By default all JavaScript files in Nextcloud are minified (compressed) into a single file without whitespace. To prevent this, see Debug mode.</p>
</div>
<div class="section" id="debugging-html-and-templates">
<h2>Debugging HTML and templates<a class="headerlink" href="#debugging-html-and-templates" title="Permalink to this headline">¶</a></h2>
<p>By default Nextcloud caches HTML generated by templates. This may prevent changes to app templates, for example, from being applied on page refresh. To disable caching, see Debug mode.</p>
</div>
<div class="section" id="using-alternative-app-directories">
<h2>Using alternative app directories<a class="headerlink" href="#using-alternative-app-directories" title="Permalink to this headline">¶</a></h2>
<p>It may be useful to have multiple app directories for testing purposes, so you can conveniently switch between different versions of applications. See the configuration file documentation for details.</p>
</div>
</div>


            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="performance.html" title="Previous Chapter: Performance Considerations"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Performance C...</span>
    </a>
  </li>
  <li class="next">
    <a href="backporting.html" title="Next Chapter: Backporting"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Backporting &raquo;</span>
    </a>
  </li>
</ul>
					</div>
				</div>
			</div>
  </main>  
  </div>
</div>
<div class="container">
<div class="row">
    <div class="col-lg-12 footer-social-icons">
      <p class="text-center"><a target="_blank" href="https://plus.google.com/104036748063781940910/about"><img width=50 src="../_static/img/social/googleplus.svg" title="Follow us on Google Plus!" alt="Follow us on Google Plus!"></img></a>
      <a target="_blank" href="https://www.facebook.com/Nextclouders"><img width=50 src="../_static/img/social/facebook.svg" title="Like our facebook page!" alt="Like our facebook page!"></img></a>
      <a target="_blank" href="https://twitter.com/Nextclouders"><img width=50 src="../_static/img/social/twitter.svg" title="Subscribe to our twitter channel!" alt="Subscribe to our twitter channel!"></img></a>
      <a target="_blank" href="https://nextcloud.com/blogfeed"><img class="img-circle" width=50 src="../_static/img/social/rss.svg" title="Subscribe to our news feed!" alt="Subscribe to our news feed!"></img></a>
      <a target="_blank" href="https://newsletter.nextcloud.com/"><img class="img-circle" width=50 src="../_static/img/social/mail.svg"  title="Subscribe to our newsletter!" alt="Subscribe to our newsletter!"></img></a></p>
    </div>
    <div class="text-center">
      <p>All documentation licensed under the <a href="https://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 Unported license</a>.</p>
      <p><a href="https://github.com/nextcloud/documentation/graphs/contributors">See who contributed to our documentation/credits</a>.</p>
    </div>
</div>
</div>
<footer class="content-info" role="contentinfo">
<div class="container">
   <div class="row">
     <div class="col-sm-2 col-sm-offset-1">
        <div class="footer-nav">
          <h4>About Nextcloud</h4>
          <ul id="menu-about" class="menu">
            <li><a href="https://nextcloud.com/about/">About us</a></li>
            <li><a href="https://nextcloud.com/contact/">Contact us</a></li>
            <li><a href="https://nextcloud.com/press/">Press</a></li>
            <li><a href="https://nextcloud.com/privacy/">Privacy policy</a></li>
          </ul>
        </div>
     </div>
     <div class="col-sm-2 col-sm-offset-2">
     </div>
     <div class="col-sm-2 col-sm-offset-2">
        <div class="footer-nav">
          <h4>Interact</h4>
          <ul id="menu-interact" class="menu">
            <li class="menu-irc-channel"><a href="https://webchat.freenode.net/?channels=nextcloud">IRC Channel</a></li>
            <li class="menu-forums"><a href="https://help.nextcloud.com/">Forums</a></li>
          </ul>
        </div>
     </div>
   </div>
   <div class="row">
      <div class="col-lg-12 footer-text">
        <p>
              &copy; Copyright 2012-2017, The Nextcloud developers.  <small><a href="https://nextcloud.com/impressum">Legal Notice</a></small><br/>
        </p>
      </div>
    </div>
  </div>
</footer>
  </body>
</html>